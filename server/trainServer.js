var express = require('express');
var bodyparser = require('body-parser');
var path = require('path');
var app = express();
app.use(bodyparser.json());
app.use(express.static(path.resolve(__dirname,'../client')));

var brain = require('brain');

app.get('/brain', (req, res) => {

  var net = new brain.NeuralNetwork();

 net.train([
  {input:[0,0,0,0,0,-0.00953265, 0.0638593, -0.99791,
0.0302952, -0.901895, 0.43089,
-0.183438, -0.848622, 0.49617,
-0.334163, -0.822958, 0.45942,
-0.545984, -0.757856, 0.357151, 11.429999999999978], output: {aa: 1}},

  {input:[0,1,1,1,1,-0.25735, -0.370085, -0.892641,
0.0658166, 0.00730177, -0.997805,
0.03123, 0.0226125, -0.999256,
-0.0197074, 0.0521914, -0.998443,
0.0372486, 0.132279, -0.990512, -46.35499999999999], output: {bb: 1}}, 

  {input:[0,0,0,0,0, -0.572988, -0.210652, -0.79203,
-0.24872, -0.80869, -0.533065,
-0.331823, -0.814433, -0.476018,
-0.221569, -0.974411, -0.0378167,
-0.390104, -0.918074, -0.070425, -8.320999999999998], output:{ss: 1}},

  {input: [0,0,0,0,0, -0.240954, -0.0342797, -0.969931,
0.0425051, -0.827703, 0.559555,
-0.212048, -0.785337, 0.58162,
-0.365585, -0.766547, 0.527971,
-0.526786, -0.688836, 0.497997, 7.371000000000009], output:{tt:1}}
  ]);

var output = net.run([0,0,0,0,0, -0.277351, 0.0622898, -0.958747,
0.173941, -0.829297, 0.531047,
-0.0759547, -0.821721, 0.564805,
-0.31771, -0.865285, 0.387741,
-0.601641, -0.736375, 0.309485, 37.03899999999999]);

  console.log('OUTrPrUT', output);

  res.end();

});

app.post('/run', (req, res) => {

  res.end();  
});


app.get('/test', (r, rr) => {

  rr.end();
});

app.listen(3000, () => console.log('listening on 3000'));